<section class="content-header">
  <h1>Assets <small>images library</small></h1>
  <ol class="breadcrumb">
    <li><a ui-sref="app.landing"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Assets</li>
  </ol>
</section>
<section class="content"
  flow-init="flowOptions"
  flow-name="vm.flow"
  flow-files-submitted="$flow.upload()"
  flow-complete="vm.onUploadComplet()"
  flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
  >
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header with-border">
          <h3 class="box-title">Assets</h3>
          <div class="box-tools pull-right">
            <span class="btn btn-block btn-success btn-xs" flow-btn flow-attrs="{accept:'image/*'}"><i class="fa fa-plus"></i> Add New</span>
          </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body" flow-drop>
          <div class="row">
            <div class="col-xs-12">
              <div class="input-group input-group-sm pull-right" style="width: 150px;">
                <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">
                <div class="input-group-btn">
                  <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">

              <ul class="mailbox-attachments clearfix">

                <li ng-repeat="file in $flow.files">
                  <span class="mailbox-attachment-icon has-img"><img flow-img="file"></span>
                  <div class="mailbox-attachment-info">
                    <p class="mailbox-attachment-name">
                      <i class="fa fa-upload"></i> {{$file.name}}
                    </p>
                    <div class="progress progress-xxs">
                        <div class="progress-bar progress-bar-aqua progress-bar-striped" role="progressbar" ng-class="{active: file.isUploading()}" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" ng-style="{width: (file.progress() * 100) + '%'}" style="width: 100%;">
                          <span class="sr-only"></span>
                      </div>
                    </div>
                  </div>
                </li>

                <li ng-repeat="asset in vm.assets">
                  <span class="mailbox-attachment-icon has-img"><img src="{{asset.path}}"></span>
                  <div class="mailbox-attachment-info">
                    <p class="mailbox-attachment-name">
                      <a class="mailbox-attachment-name" ui-sref="app.assetsedit({assetId: asset.id})">
                        <i class="fa fa-camera"></i> {{asset.name}}
                      </a>
                    </p>
                    <span class="mailbox-attachment-size">
                      1.9 MB
                      <a class="btn btn-danger btn-xs pull-right" ng-click="vm.delete(asset.id)"><i class="fa fa-trash"></i></a>
                    </span>
                  </div>
                </li>

              </ul>
            </div>
          </div>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->
    </div>
  </div>
</section>
