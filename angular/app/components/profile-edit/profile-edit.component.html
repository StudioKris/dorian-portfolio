<section class="content-header">
  <h1>Profile <small>website's profile page</small></h1>
  <ol class="breadcrumb">
    <li><a ui-sref="app.landing"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Profile</li>
  </ol>
</section>
<section class="content"
  flow-init="flowOptions"
  flow-name="vm.flow"
  flow-files-submitted="$flow.upload()"
  flow-complete="vm.onUploadComplet()"
  flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
  >
  <div ng-if="vm.alerts" class="alert alert-{{alert.type}}" ng-repeat="alert in vm.alerts"  >
    <h4>{{alert.title}}</h4>
    <p>{{alert.msg}}</p>
  </div>
  <div class="row">
    <div class="col-md-3">
      <!-- Profile Image -->
      <div class="box box-primary">
        <div class="box-body box-profile">
          <span class="profile-user-img img-responsive img-circle" ng-style="{'background-image':'url('+vm.profile.data.icon+')'}" flow-btn flow-attrs="{accept:'image/*'}"></span>
          <h3 class="profile-username text-center">{{vm.profile.data.name}}</h3>
          <p class="text-muted text-center">Software Engineer</p>
          <ul class="list-group list-group-unbordered">
            <li class="list-group-item">
              <b>Name</b> <a class="pull-right">{{vm.profile.data.name}}</a>
            </li>
            <li class="list-group-item">
              <b>Picture</b> <span class="btn btn-success btn-xs pull-right" flow-btn flow-attrs="{accept:'image/*'}">  <i class="fa fa-upload"></i> Change</span>
            </li>
          </ul>
          <button type="submit" class="btn btn-primary btn-block"><b>Update</b></button>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->
    </div>
    <!-- /.col -->
    <div class="col-md-9">
      <uib-tabset class="nav-tabs-custom">
      
      <uib-tab class="tab-content" id="user-info" index="0" heading="User Informations">
      <form class="form-horizontal" name="profileForm" ng-submit="vm.save(profileForm.$valid)" novalidate>
        <div class="form-group" ng-class="{ 'has-error': profileForm.name.$invalid && ( vm.  formSubmitted || profileForm.name.$touched) }">
          <label for="inputName" class="col-sm-2 control-label">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="vm.profile.data.name" name="name" placeholder="Name" required>
            <p ng-show="profileForm.name.$error.required && ( vm.formSubmitted || profileForm.  name.$touched)" class="help-block">Name is required.</p>
          </div>
        </div>
        <div class="form-group">
          <label for="inputEmail" class="col-sm-2 control-label">Email</label>
          <div class="col-sm-10">
            <input type="email" class="form-control" id="inputEmail" placeholder="Email">
          </div>
        </div>
        
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-primary pull-right"><b>Update</b></button>
          </div>
        </div>
      </form>
      </uib-tab>
      <uib-tab class="tab-content" index="1" heading="Curriculum Vitae">
      <form class="form-horizontal" name="profileForm" ng-submit="vm.save(profileForm.$valid)" novalidate>
        <div class="form-group">
          <div class="col-sm-12">
            <wysiwyg textarea-class="form-control" ng-model="vm.profile.data.description"></wysiwyg>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-primary pull-right"><b>Update</b></button>
          </div>
        </div>
      </form>
      </uib-tab>
      </uib-tabset>
    </div>
    <!-- /.nav-tabs-custom -->
  </div>
  <!-- /.col -->
</div>
<!-- /.row -->
</section>